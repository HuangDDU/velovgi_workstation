# 23_05_10_7下游分析绘图封装与数据测试

## 1. 本地下游分析绘图封装

1. 本地dev分支对notebook的下游分析提取绘图代码到velovgi包里。

2. 本地分支提交

   ```
   git add .
   git commit -m "dev分支下游分析分析绘图封装"
   git push
   ```

3. 封装好后，合并到main分支上

   ```
   git checkout main
   git pull origin main
   
   git checkout dev
   git merge main
   git add .
   git commit -m "冲突合并"
   
   git push
   ```

## 2. 服务器的test分支数据测试

1. 使用之前，先把所有的现有的合到test分支上

   ```
   git checkout main
   git pull origin main
   
   git checkout test
   git merge main
   git add .
   git commit -m "test冲突合并"
   ```

2. 迁移本地的scib的conda环境到服务器上.https://blog.csdn.net/ds1302__/article/details/120027173

## 3. 分支管理策略调整

1. 远程不再维护dev和test分支，只维护单一的分支main。

2. 本地每次开发都产生一个新的dev分支，搞完都合并上去。服务器同理，产生新的test分支，搞完都合并上去。

   - dev分支会修改velovgi，notebook/local_pc
   - test分支只会修改notebook/lab_server

3. 本地创建dev_0510分支，编写代码后合并到主分支上，推送到远程。

   ```
   git checkout -b dev_0510
   # 完成代码修改工作
   git add .
   git commit -m "函数封装后erythoiroid_lineage下游分析2"
   
   git checkout main
   git pull origin main # 本地main分支更新到最新
   git merge dev_0510 # 本地把dev_0510分支合并到当前main分支
   git push # 本地把main分支推送过去
   ```

4. 服务器创建test_0510分支，编写代码后合并到主分支上，推送到远程。

   ```
   git checkout -b test_0510
   # 完成代码修改工作
   git add .
   git commit -m "test函数封装后erythoiroid_lineage下游分析2"
   
   git checkout main
   git pull origin main 
   git merge test_0510
   git push
   ```

   

   

